<div ng-if="users.loading" class="progressFull md-display-1">
    Loading...
</div>

<md-toolbar id="usersToolBar">
    <div class="md-toolbar-tools">
        <md-button ng-click="users.toggleMenu()" class="md-icon-button">
            <md-icon class="material-icons">menu</md-icon>
        </md-button>        
        <span flex></span>
        Users
        <span flex></span>
        <md-button ng-if="home.user.data.isAdmin" ng-click="users.addUser($event)">
            Add User
        </md-button>    
        <md-button ng-if="home.user.data.isAdmin" ng-click="users.changePassword($event)" class="md-button">
            Change Password
        </md-button>    
    </div>
</md-toolbar>

<md-content layout="column" ng-if="!users.loading && home.user.data.isAdmin">
	<md-list>
	    <md-list-item ng-repeat="user in users.users | orderBy: user.name">
            <span class="name">{{ user.userName }}</span>   
            <span flex=></span>
            <md-button ng-click="users.editUser($event, user)" class="md-primary md-icon-button md-exclude" md-no-ink>
                <md-icon class="material-icons">
                    edit
                </md-icon>
            </md-button>
            <md-button ng-click="users.deleteUser($event, user)" class="md-warn md-icon-button md-exclude" md-no-ink>
                <md-icon class="material-icons">
                    delete
                </md-icon>
            </md-button>
            <md-divider></md-divider>
        </md-list-item>	
        <md-divider ng-if="users.users.length"></md-divider>
    </md-list>
</md-content>